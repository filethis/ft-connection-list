<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../iron-list/iron-list.html">
<link rel="import" href="../iron-label/iron-label.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../ft-connection-list-item/ft-connection-list-item.html">

<!--
`ft-connection-list`
An element that displays a list of FileThis connection resources

@demo demo/index.html
-->

<dom-module id="ft-connection-list">

    <style include="iron-flex iron-flex-alignment"></style>

    <template>

        <!-- List -->
        <iron-list selection-enabled
                   id="connectionList"
                   items="[[connections]]"
                   selected-item="{{selectedConnection}}"
                   as="connection"
                   style="width:500px;">

            <!-- Connection item template -->
            <template>
                <ft-connection-list-item
                        style="border-bottom:1px solid #DDD;"
                        connection="[[connection]]"
                        selected$="[[selected]]">
                </ft-connection-list-item>
            </template>
        </iron-list>

    </template>

    <script>
        Polymer({

            is: 'ft-connection-list',

            properties: {
                connections:
                {
                    type: Array,
                    notify: true,
                    value: [],
                    observer: "onConnectionsChanged"
                },
                selectedConnection:
                {
                    type: Object,
                    notify: true,
                    value: null
                }
            },

            onConnectionsChanged: function()
            {
                this.$.connectionList.fire('resize')
            }

        });
    </script>
</dom-module>
